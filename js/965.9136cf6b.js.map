{"version":3,"file":"js/965.9136cf6b.js","mappings":"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","sources":["webpack://tmp/./src/navStackAndLongTap.js","webpack://tmp/./src/AppData.js","webpack://tmp/./src/views/NewAlbumCreation.vue","webpack://tmp/./src/views/NewAlbumCreation.vue?12c4"],"sourcesContent":["// navStackAndLongTap.js\r\n\t\t\t/* eslint-disable */\r\n\t\t\texport function navigateTo(router,pageUrl) {\r\n\t\t\t\trouter.push(pageUrl);\r\n\t\t\t  }\r\n\t\t\t\r\n\t\t\texport function goBack(router) {\r\n\t\t\t    router.go(-1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\texport function longTapNavigateTo(selector, targetPage, threshold = 500) {\r\n\t\t\t  let touchStartTime = 0;\r\n\t\t\t\r\n\t\t\t  const element = document.querySelector(selector);\r\n\t\t\t  if (!element) return;\r\n\t\t\t\r\n\t\t\t  element.addEventListener(\"touchstart\", (e) => {\r\n\t\t\t    touchStartTime = Date.now();\r\n\t\t\t    e.preventDefault(); // prevent default link behavior\r\n\t\t\t  }, { passive: false });\r\n\t\t\t\r\n\t\t\t  element.addEventListener(\"touchend\", () => {\r\n\t\t\t    const duration = Date.now() - touchStartTime;\r\n\t\t\t    if (duration >= threshold) {\r\n\t\t\t      console.log(\"Long tap detected!\");\r\n\t\t\t      navigateTo(targetPage);\r\n\t\t\t    }\r\n\t\t\t  });\r\n\t\t\t\r\n\t\t\t  // Optional: support long mouse press\r\n\t\t\t  element.addEventListener(\"mousedown\", (e) => {\r\n\t\t\t    touchStartTime = Date.now();\r\n\t\t\t    e.preventDefault();\r\n\t\t\t  });\r\n\t\t\t  element.addEventListener(\"mouseup\", () => {\r\n\t\t\t    const duration = Date.now() - touchStartTime;\r\n\t\t\t    if (duration >= threshold) {\r\n\t\t\t        navigateTo(targetPage);\r\n\t\t\t    }\r\n\t\t\t  });\r\n\t\t\t\r\n\t\t\t}","export const AppData = {\r\n    // =========================================================================\r\n    // SECTION 1: DATA SCHEMAS AND DEFAULT VALUES\r\n    // =========================================================================\r\n\r\n    /**\r\n     * @typedef {Object} Photo\r\n     * @property {number} id - Unique identifier for the photo.\r\n     * @property {string} src - Path to the image file.\r\n     * @property {string} date - The date the photo was taken (YYYY-MM-DD).\r\n     * @property {'portrait' | 'landscape'} orientation - The orientation of the photo.\r\n     * @property {string} description - A brief description of the photo content.\r\n     */\r\n\r\n    /**\r\n     * @typedef {Object} Album\r\n     * @property {number} id - Unique identifier for the album.\r\n     * @property {string} name - The name of the album.\r\n     * @property {number[]} photoIds - An array of photo IDs belonging to this album.\r\n     */\r\n\r\n    // =========================================================================\r\n    // SECTION 2: MOCK DATA\r\n    // =========================================================================\r\n\r\n    /**\r\n     * A collection of all photos available in the app.\r\n     * @type {Photo[]}\r\n     */\r\n    photosData: [\r\n        // Photos for July 4, 2023 (Target for the task)\r\n        { id: 1, src: 'images/july4_portrait_1.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Person holding a sparkler at night.' },\r\n        { id: 2, src: 'images/july4_landscape_1.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Fireworks over a lake.' },\r\n        { id: 3, src: 'images/july4_portrait_2.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Family barbecue in the backyard.' },\r\n        { id: 4, src: 'images/july4_portrait_3.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Child waving an American flag.' },\r\n        { id: 5, src: 'images/july4_landscape_2.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Parade on a sunny street.' },\r\n        \r\n        // Other photos to make the library look populated\r\n        { id: 6, src: 'images/beach_day_1.jpg', date: '2023-08-15', orientation: 'landscape', description: 'Sunset over the ocean.' },\r\n        { id: 7, src: 'images/city_trip_1.jpg', date: '2023-06-10', orientation: 'portrait', description: 'Skyscraper from a low angle.' },\r\n        { id: 8, src: 'images/hiking_1.jpg', date: '2023-09-02', orientation: 'landscape', description: 'Mountain range view from a trail.' },\r\n        { id: 9, src: 'images/birthday_1.jpg', date: '2023-05-20', orientation: 'portrait', description: 'Blowing out candles on a cake.' },\r\n        { id: 10, src: 'images/winter_1.jpg', date: '2023-01-12', orientation: 'landscape', description: 'Snow-covered trees in a forest.' },\r\n        { id: 11, src: 'images/july4_misc_1.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Table with food for a 4th of July party.' },\r\n\r\n        // --- EXPANDED DATA START ---\r\n        // More photos for July 4, 2023 to provide more selection options\r\n        { id: 12, src: 'images/july4_portrait_4.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Friends watching fireworks from a balcony.' },\r\n        { id: 13, src: 'images/july4_landscape_3.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Wide shot of a patriotic parade float.' },\r\n        { id: 14, src: 'images/july4_portrait_5.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Close-up of a decorated cupcake with a small flag.' },\r\n        { id: 15, src: 'images/july4_landscape_4.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Community gathering in a park.' },\r\n\r\n        // More general photos for a diverse library\r\n        { id: 16, src: 'images/christmas_1.jpg', date: '2022-12-25', orientation: 'landscape', description: 'Family opening presents by a Christmas tree.' },\r\n        { id: 17, src: 'images/christmas_2.jpg', date: '2022-12-25', orientation: 'portrait', description: 'Child in a Santa hat smiling.' },\r\n        { id: 18, src: 'images/halloween_1.jpg', date: '2023-10-31', orientation: 'portrait', description: 'Jack-o-lantern glowing at night on a porch.' },\r\n        { id: 19, src: 'images/spring_1.jpg', date: '2023-03-15', orientation: 'landscape', description: 'Cherry blossoms in full bloom in a park.' },\r\n        { id: 20, src: 'images/city_trip_2.jpg', date: '2023-06-11', orientation: 'portrait', description: 'Tall modern building against a blue sky.' },\r\n        { id: 21, src: 'images/hiking_2.jpg', date: '2023-09-03', orientation: 'portrait', description: 'Hiker resting on a rock with a backpack.' },\r\n        { id: 22, src: 'images/winter_2.jpg', date: '2023-02-14', orientation: 'landscape', description: 'Snowy mountain peak at sunrise.' },\r\n        { id: 23, src: 'images/beach_day_2.jpg', date: '2023-08-16', orientation: 'portrait', description: 'Person building a sandcastle on the beach.' },\r\n        { id: 24, src: 'images/thanksgiving_1.jpg', date: '2023-11-23', orientation: 'landscape', description: 'Thanksgiving dinner table spread.' },\r\n        { id: 25, src: 'images/halloween_2.jpg', date: '2022-10-31', orientation: 'landscape', description: 'Group of friends in Halloween costumes.' },\r\n        { id: 26, src: 'images/birthday_2.jpg', date: '2023-05-21', orientation: 'landscape', description: 'Birthday party with balloons and streamers.' },\r\n        { id: 27, src: 'images/pet_1.jpg', date: '2023-04-05', orientation: 'portrait', description: 'Golden retriever puppy playing in the grass.' },\r\n        { id: 28, src: 'images/food_1.jpg', date: '2023-07-22', orientation: 'landscape', description: 'A colorful plate of gourmet food.' }\r\n        // --- EXPANDED DATA END ---\r\n    ],\r\n\r\n    /**\r\n     * Initial set of albums. This will be used to populate localStorage if it's empty.\r\n     * @type {Album[]}\r\n     */\r\n    initialAlbums: [\r\n        { id: 101, name: 'Summer Vacation', photoIds: [6, 8] },\r\n        { id: 102, name: 'Birthdays', photoIds: [9] },\r\n        // --- EXPANDED DATA START ---\r\n        { id: 103, name: 'Cityscapes', photoIds: [7, 20] },\r\n        { id: 104, name: 'Winter Wonderland', photoIds: [10, 22] },\r\n        { id: 105, name: 'Holidays 2022', photoIds: [16, 17, 25] },\r\n        { id: 106, name: 'Good Boy', photoIds: [27] }\r\n        // --- EXPANDED DATA END ---\r\n    ],\r\n\r\n    // =========================================================================\r\n    // SECTION 3: LOCALSTORAGE SCHEMA\r\n    // =========================================================================\r\n\r\n    /**\r\n     * Standardized keys for all localStorage operations to prevent typos and ensure consistency.\r\n     */\r\n    localStorageKeys: {\r\n        SEARCH_QUERY: 'photos_app_search_query',\r\n        SELECTED_PHOTO_IDS: 'photos_app_selected_photo_ids',\r\n        ALBUMS: 'photos_app_albums',\r\n        NEW_ALBUM_NAME: 'photos_app_new_album_name',\r\n    },\r\n\r\n    // =========================================================================\r\n    // SECTION 4: LOCALSTORAGE DATA FORMAT STANDARDS\r\n    // =========================================================================\r\n    /*\r\n     * All data stored in localStorage is JSON stringified to maintain data types.\r\n     *\r\n     * - SEARCH_QUERY (`photos_app_search_query`):\r\n     *   - Type: String\r\n     *   - Example: \"July 4, 2023\"\r\n     *\r\n     * - SELECTED_PHOTO_IDS (`photos_app_selected_photo_ids`):\r\n     *   - Type: JSON Stringified Array of Numbers\r\n     *   - Example: \"[1, 3, 4]\"\r\n     *\r\n     * - ALBUMS (`photos_app_albums`):\r\n     *   - Type: JSON Stringified Array of Album Objects\r\n     *   - Example: \"[{\\\"id\\\":101,\\\"name\\\":\\\"Summer Vacation\\\",\\\"photoIds\\\":[6,8]}]\"\r\n     *\r\n     * - NEW_ALBUM_NAME (`photos_app_new_album_name`):\r\n     *   - Type: String\r\n     *   - Example: \"July 4th Vlog Footage\"\r\n     */\r\n\r\n    // =========================================================================\r\n    // SECTION 5: CORE UTILITIES (Validation, Error Handling, LocalStorage)\r\n    // =========================================================================\r\n\r\n    /**\r\n     * Safely sets an item in localStorage by stringifying it.\r\n     * @param {string} key - The key to set.\r\n     * @param {any} value - The value to store.\r\n     */\r\n    _safeSetLocalStorage: function(key, value) {\r\n        try {\r\n            localStorage.setItem(key, JSON.stringify(value));\r\n        } catch (error) {\r\n            console.error(`Error setting localStorage key \"${key}\":`, error);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Safely gets and parses an item from localStorage.\r\n     * @param {string} key - The key to retrieve.\r\n     * @param {any} defaultValue - The value to return if the key doesn't exist or parsing fails.\r\n     * @returns {any} The parsed value or the default value.\r\n     */\r\n    _safeGetLocalStorage: function(key, defaultValue) {\r\n        try {\r\n            const item = localStorage.getItem(key);\r\n            if (item === null || item === undefined) {\r\n                return defaultValue;\r\n            }\r\n            return JSON.parse(item);\r\n        } catch (error) {\r\n            console.error(`Error getting localStorage key \"${key}\":`, error);\r\n            return defaultValue;\r\n        }\r\n    },\r\n\r\n    // =========================================================================\r\n    // SECTION 6: DATA MANAGEMENT METHODS\r\n    // =========================================================================\r\n\r\n    // --- Album Management ---\r\n\r\n    /**\r\n     * Initializes the albums in localStorage if they don't exist.\r\n     * Should be called when the app starts.\r\n     */\r\n    initAlbums: function() {\r\n        const existingAlbums = AppData._safeGetLocalStorage(AppData.localStorageKeys.ALBUMS, null);\r\n        if (existingAlbums === null) {\r\n            AppData._safeSetLocalStorage(AppData.localStorageKeys.ALBUMS, AppData.initialAlbums);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Retrieves all albums from localStorage.\r\n     * @returns {Album[]} An array of album objects.\r\n     */\r\n    getAlbums: function() {\r\n        return AppData._safeGetLocalStorage(AppData.localStorageKeys.ALBUMS, []);\r\n    },\r\n\r\n    /**\r\n     * Creates a new album and saves it to localStorage.\r\n     * @param {string} albumName - The name for the new album.\r\n     * @param {number[]} photoIds - An array of photo IDs to include in the album.\r\n     */\r\n    addAlbum: function(albumName, photoIds) {\r\n        const albums = AppData.getAlbums();\r\n        const newAlbumId = albums.length > 0 ? Math.max(...albums.map(a => a.id)) + 1 : 101;\r\n        const newAlbum = {\r\n            id: newAlbumId,\r\n            name: albumName,\r\n            photoIds: photoIds,\r\n        };\r\n        albums.push(newAlbum);\r\n        AppData._safeSetLocalStorage(AppData.localStorageKeys.ALBUMS, albums);\r\n    },\r\n\r\n    // --- Photo Management ---\r\n\r\n    /**\r\n     * Returns the complete list of all photos.\r\n     * @returns {Photo[]}\r\n     */\r\n    getAllPhotos: function() {\r\n        return AppData.photosData;\r\n    },\r\n\r\n    /**\r\n     * Finds a single photo by its ID.\r\n     * @param {number} id - The ID of the photo to find.\r\n     * @returns {Photo | undefined} The photo object or undefined if not found.\r\n     */\r\n    getPhotoById: function(id) {\r\n        return AppData.photosData.find(photo => photo.id === id);\r\n    },\r\n\r\n    /**\r\n     * Retrieves an array of photo objects based on an array of IDs.\r\n     * @param {number[]} ids - An array of photo IDs.\r\n     * @returns {Photo[]} An array of matching photo objects.\r\n     */\r\n    getPhotosByIds: function(ids) {\r\n        if (!Array.isArray(ids)) return [];\r\n        return AppData.photosData.filter(photo => ids.includes(photo.id));\r\n    },\r\n\r\n    // --- Filter/Search Management ---\r\n\r\n    /**\r\n     * Applies a filter by saving the search query to localStorage.\r\n     * This exactly matches the script input: `search_bar.input(\"July 4, 2023\")`\r\n     * @param {string} query - The search query to apply.\r\n     */\r\n    applyFilters: function(query) {\r\n        AppData._safeSetLocalStorage(AppData.localStorageKeys.SEARCH_QUERY, query);\r\n    },\r\n\r\n    /**\r\n     * Retrieves the currently applied search query from localStorage.\r\n     * @returns {string} The current search query.\r\n     */\r\n    getAppliedFilters: function() {\r\n        return AppData._safeGetLocalStorage(AppData.localStorageKeys.SEARCH_QUERY, '');\r\n    },\r\n\r\n    /**\r\n     * Clears the currently applied search query from localStorage.\r\n     */\r\n    clearFilters: function() {\r\n        localStorage.removeItem(AppData.localStorageKeys.SEARCH_QUERY);\r\n    },\r\n\r\n    /**\r\n     * Filters a list of photos based on a search query.\r\n     * This function is designed to specifically handle the query from the script.\r\n     * @param {Photo[]} photos - The array of photos to filter.\r\n     * @param {string} query - The search query string.\r\n     * @returns {Photo[]} A new array of photos that match the query.\r\n     */\r\n    filterPhotos: function(photos, query) {\r\n        if (!query || typeof query !== 'string') {\r\n            return [];\r\n        }\r\n        const normalizedQuery = query.trim().toLowerCase();\r\n        \r\n        // This logic specifically handles the query required by the task script.\r\n        if (normalizedQuery === 'july 4, 2023') {\r\n            const targetDate = '2023-07-04';\r\n            return photos.filter(photo => photo.date === targetDate);\r\n        }\r\n\r\n        // Add more generic search logic here if needed for other tasks.\r\n        // For example, searching by description:\r\n        // return photos.filter(photo => photo.description.toLowerCase().includes(normalizedQuery));\r\n\r\n        return []; // Return empty array if no matching rule is found.\r\n    },\r\n};","/* eslint-disable */\r\n<template>\r\n  <div class=\"new-album-container\">\r\n    <header class=\"app-header\">\r\n      <button class=\"header-button cancel-button\" @click=\"cancelCreation\">Cancel</button> <!-- UI Transition: NewAlbumCreation.vue -> (Previous Screen, e.g., PhotoSelectionMode.vue) -->\r\n      <h1 class=\"header-title\">New Album</h1>\r\n      <button class=\"header-button save-button\" :disabled=\"!isSaveEnabled\" @click=\"saveAlbum\">Save</button> <!-- UI Transition: NewAlbumCreation.vue -> SearchResults.vue -->\r\n    </header>\r\n\r\n    <main class=\"content-area\">\r\n      <div class=\"album-name-wrapper\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"album-name-input\"\r\n          placeholder=\"Album Name\"\r\n          v-model=\"albumName\"\r\n          @input=\"updateAlbumName\"\r\n        /> <!-- UI State Change: NewAlbumCreation.vue -> NewAlbumCreation.vue (enables Save button) -->\r\n      </div>\r\n\r\n      <div class=\"photo-previews-grid\" v-if=\"selectedPhotos.length > 0\">\r\n        <div v-for=\"photo in selectedPhotos\" :key=\"photo.id\" class=\"photo-preview-item\">\r\n          <img :src=\"photo.src\" :alt=\"photo.description\" class=\"preview-image\" />\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"no-photos-message\">\r\n        <p>No photos selected.</p>\r\n      </div>\r\n    </main>\r\n    <modal ref=\"errorModal\"></modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { AppData } from '@/AppData';\r\nimport { navigateTo, goBack } from '@/navStackAndLongTap';\r\n\r\nexport default {\r\n  name: 'NewAlbumCreation',\r\n  data() {\r\n    return {\r\n      albumName: '',\r\n      selectedPhotoIds: [],\r\n      selectedPhotos: [],\r\n    };\r\n  },\r\n  computed: {\r\n    isSaveEnabled() {\r\n      return this.albumName.trim().length > 0;\r\n    },\r\n  },\r\n  methods: {\r\n    showModal() {\r\n      this.$refs.errorModal.showModal();\r\n    },\r\n    loadSelectedPhotos() {\r\n      const photoIds = AppData._safeGetLocalStorage(AppData.localStorageKeys.SELECTED_PHOTO_IDS, []);\r\n      this.selectedPhotoIds = Array.isArray(photoIds) ? photoIds : [];\r\n      this.selectedPhotos = AppData.getPhotosByIds(this.selectedPhotoIds);\r\n    },\r\n    cancelCreation() {\r\n      goBack(this.$router);\r\n    },\r\n    saveAlbum() {\r\n      if (!this.isSaveEnabled) return;\r\n      AppData.addAlbum(this.albumName, this.selectedPhotoIds);\r\n      // Clear selection after adding to album\r\n      localStorage.removeItem(AppData.localStorageKeys.SELECTED_PHOTO_IDS);\r\n      navigateTo(this.$router, 'SearchResults');\r\n    },\r\n    updateAlbumName() {\r\n      // This method is triggered on input to ensure reactivity.\r\n      // The v-model already handles the data binding.\r\n      // We can also store the intermediate name if needed, but for this task it's not required.\r\n      // AppData._safeSetLocalStorage(AppData.localStorageKeys.NEW_ALBUM_NAME, this.albumName);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadSelectedPhotos();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.new-album-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  background-color: #fff;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\r\n}\r\n\r\n.app-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 16px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  background-color: #f8f8f8;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.header-title {\r\n  font-size: 17px;\r\n  font-weight: 600;\r\n  margin: 0;\r\n}\r\n\r\n.header-button {\r\n  background: none;\r\n  border: none;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  color: #007aff;\r\n}\r\n\r\n.save-button:disabled {\r\n  color: #b0d7ff;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.content-area {\r\n  flex-grow: 1;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.album-name-wrapper {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.album-name-input {\r\n  width: 100%;\r\n  padding: 12px 0;\r\n  font-size: 22px;\r\n  border: none;\r\n  border-bottom: 2px solid #007aff;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.album-name-input::placeholder {\r\n  color: #c7c7cd;\r\n}\r\n\r\n.album-name-input:focus {\r\n  border-bottom-color: #0056b3;\r\n}\r\n\r\n.photo-previews-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));\r\n  gap: 8px;\r\n}\r\n\r\n.photo-preview-item {\r\n  position: relative;\r\n  width: 100%;\r\n  padding-bottom: 100%; /* 1:1 Aspect Ratio */\r\n  overflow: hidden;\r\n  border-radius: 6px;\r\n}\r\n\r\n.preview-image {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.no-photos-message {\r\n  text-align: center;\r\n  color: #8e8e93;\r\n  margin-top: 40px;\r\n}\r\n</style>","import { render } from \"./NewAlbumCreation.vue?vue&type=template&id=0802cafe&scoped=true\"\nimport script from \"./NewAlbumCreation.vue?vue&type=script&lang=js\"\nexport * from \"./NewAlbumCreation.vue?vue&type=script&lang=js\"\n\nimport \"./NewAlbumCreation.vue?vue&type=style&index=0&id=0802cafe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0802cafe\"]])\n\nexport default __exports__"],"names":["navigateTo","router","pageUrl","push","goBack","go","AppData","photosData","id","src","date","orientation","description","initialAlbums","name","photoIds","localStorageKeys","SEARCH_QUERY","SELECTED_PHOTO_IDS","ALBUMS","NEW_ALBUM_NAME","_safeSetLocalStorage","key","value","localStorage","setItem","JSON","stringify","error","console","_safeGetLocalStorage","defaultValue","item","getItem","undefined","parse","initAlbums","existingAlbums","getAlbums","addAlbum","albumName","albums","newAlbumId","length","Math","max","map","a","newAlbum","getAllPhotos","getPhotoById","find","photo","getPhotosByIds","ids","Array","isArray","filter","includes","applyFilters","query","getAppliedFilters","clearFilters","removeItem","filterPhotos","photos","normalizedQuery","trim","toLowerCase","targetDate","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","cancelCreation","disabled","isSaveEnabled","saveAlbum","_hoisted_3","_hoisted_4","_hoisted_5","type","placeholder","$data","$event","onInput","updateAlbumName","selectedPhotos","_hoisted_6","_Fragment","_renderList","alt","_hoisted_8","_createVNode","_component_modal","ref","data","selectedPhotoIds","computed","this","methods","showModal","$refs","errorModal","loadSelectedPhotos","$router","mounted","__exports__","render"],"sourceRoot":""}