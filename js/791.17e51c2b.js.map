{"version":3,"file":"js/791.17e51c2b.js","mappings":"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","sources":["webpack://tmp/./src/views/PhotoSelectionMode.vue","webpack://tmp/./src/views/PhotoSelectionMode.vue?06bb","webpack://tmp/./src/navStackAndLongTap.js","webpack://tmp/./src/AppData.js"],"sourcesContent":["/* eslint-disable */\r\n<template>\r\n  <div class=\"photo-selection-mode\">\r\n    <header class=\"app-header\">\r\n      <button class=\"header-button\" @click=\"cancelSelection\">Cancel</button> <!-- UI: PhotoSelectionMode.vue -> Previous Screen (e.g., SearchResults.vue) -->\r\n      <h1 class=\"header-title\">{{ selectedCountText }}</h1>\r\n      <button class=\"header-button\" :disabled=\"selectedCount === 0\" @click=\"showAddToAlbumDialog\">Add</button>\r\n    </header>\r\n\r\n    <main class=\"content-area\">\r\n      <div class=\"search-query-chip\">\r\n        <span>{{ searchQuery }}</span>\r\n      </div>\r\n\r\n      <div class=\"photo-grid\">\r\n        <div\r\n          v-for=\"photo in filteredPhotos\"\r\n          :key=\"photo.id\"\r\n          class=\"photo-item\"\r\n          @click=\"toggleSelection(photo)\"\r\n        > <!-- UI: PhotoSelectionMode.vue -> PhotoSelectionMode.vue -->\r\n          <img :src=\"photo.src\" :alt=\"photo.description\" class=\"photo-thumbnail\" />\r\n          <div class=\"selection-overlay\" v-if=\"isSelected(photo.id)\">\r\n            <div class=\"selection-circle\">\r\n              <i class=\"ri-check-line\"></i>\r\n            </div>\r\n          </div>\r\n           <div class=\"selection-circle-unselected\" v-else></div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n\r\n    <footer class=\"bottom-action-bar\">\r\n      <div class=\"action-item\">\r\n        <i class=\"ri-share-forward-line\"></i>\r\n        <span>Share</span>\r\n      </div>\r\n      <div class=\"action-item\" @click=\"showAddToAlbumDialog\"> <!-- UI: PhotoSelectionMode.vue -> PhotoSelectionMode.vue -->\r\n        <i class=\"ri-add-box-line\"></i>\r\n        <span>Add to Album</span>\r\n      </div>\r\n      <div class=\"action-item\">\r\n        <i class=\"ri-delete-bin-line\"></i>\r\n        <span>Delete</span>\r\n      </div>\r\n    </footer>\r\n\r\n    <div class=\"bottom-sheet-overlay\" v-if=\"isAddToAlbumDialogVisible\" @click=\"hideAddToAlbumDialog\"></div>\r\n    <div class=\"bottom-sheet\" :class=\"{ 'visible': isAddToAlbumDialogVisible }\">\r\n      <div class=\"bottom-sheet-content\">\r\n        <h3 class=\"bottom-sheet-title\">Add to Album</h3>\r\n        <ul class=\"bottom-sheet-options\">\r\n          <li @click=\"createNewAlbum\">New Album</li> <!-- UI: PhotoSelectionMode.vue -> NewAlbumCreation.vue -->\r\n          <li>Existing Album</li>\r\n          <li>Shared Album</li>\r\n        </ul>\r\n        <button class=\"cancel-button\" @click=\"hideAddToAlbumDialog\">Cancel</button>\r\n      </div>\r\n    </div>\r\n    <modal ref=\"errorModal\"></modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { AppData } from '@/AppData';\r\nimport { navigateTo, goBack } from '@/navStackAndLongTap';\r\n\r\nexport default {\r\n  name: 'PhotoSelectionMode',\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      allPhotos: [],\r\n      selectedPhotoIds: [],\r\n      isAddToAlbumDialogVisible: false,\r\n    };\r\n  },\r\n  computed: {\r\n    filteredPhotos() {\r\n      if (!this.searchQuery) {\r\n        return [];\r\n      }\r\n      return AppData.filterPhotos(this.allPhotos, this.searchQuery);\r\n    },\r\n    selectedCount() {\r\n      return this.selectedPhotoIds.length;\r\n    },\r\n    selectedCountText() {\r\n      if (this.selectedCount === 0) {\r\n        return 'Select Items';\r\n      }\r\n      return `${this.selectedCount} Selected`;\r\n    },\r\n  },\r\n  methods: {\r\n    loadData() {\r\n      this.searchQuery = AppData.getAppliedFilters() || '';\r\n      this.allPhotos = AppData.getAllPhotos();\r\n      // Clear any previous selections when entering the mode\r\n      localStorage.removeItem(AppData.localStorageKeys.SELECTED_PHOTO_IDS);\r\n    },\r\n    toggleSelection(photo) {\r\n      const photoId = photo.id;\r\n      const index = this.selectedPhotoIds.indexOf(photoId);\r\n      if (index > -1) {\r\n        this.selectedPhotoIds.splice(index, 1);\r\n      } else {\r\n        this.selectedPhotoIds.push(photoId);\r\n      }\r\n    },\r\n    isSelected(photoId) {\r\n      return this.selectedPhotoIds.includes(photoId);\r\n    },\r\n    cancelSelection() {\r\n      goBack(this.$router);\r\n    },\r\n    showAddToAlbumDialog() {\r\n      if (this.selectedCount > 0) {\r\n        this.isAddToAlbumDialogVisible = true;\r\n      }\r\n    },\r\n    hideAddToAlbumDialog() {\r\n      this.isAddToAlbumDialogVisible = false;\r\n    },\r\n    createNewAlbum() {\r\n      // Per the task, the user selects portrait photos. We save what they selected.\r\n      // The destination page will use these IDs.\r\n      try {\r\n        localStorage.setItem(AppData.localStorageKeys.SELECTED_PHOTO_IDS, JSON.stringify(this.selectedPhotoIds));\r\n      } catch (e) {\r\n        console.error(\"Failed to save selected photo IDs to localStorage\", e);\r\n      }\r\n      navigateTo(this.$router, 'NewAlbumCreation');\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadData();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.photo-selection-mode {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  background-color: #fff;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\r\n}\r\n\r\n.app-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 16px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  background-color: #f8f8f8;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.header-button {\r\n  background: none;\r\n  border: none;\r\n  color: #007aff;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  padding: 0;\r\n}\r\n\r\n.header-button:disabled {\r\n  color: #c7c7cc;\r\n}\r\n\r\n.header-title {\r\n  font-size: 17px;\r\n  font-weight: 600;\r\n  margin: 0;\r\n}\r\n\r\n.content-area {\r\n  flex-grow: 1;\r\n  overflow-y: auto;\r\n  padding: 8px;\r\n}\r\n\r\n.search-query-chip {\r\n  display: inline-block;\r\n  background-color: #eef1f4;\r\n  color: #333;\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  margin-bottom: 12px;\r\n  margin-left: 8px;\r\n}\r\n\r\n.photo-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\r\n  gap: 4px;\r\n}\r\n\r\n.photo-item {\r\n  position: relative;\r\n  cursor: pointer;\r\n  aspect-ratio: 1 / 1;\r\n}\r\n\r\n.photo-thumbnail {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  display: block;\r\n}\r\n\r\n.selection-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n  border: 2px solid #007aff;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.selection-circle, .selection-circle-unselected {\r\n  position: absolute;\r\n  top: 6px;\r\n  right: 6px;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.selection-circle {\r\n  background-color: #007aff;\r\n  color: white;\r\n}\r\n\r\n.selection-circle-unselected {\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n  border: 1px solid #ccc;\r\n}\r\n\r\n.selection-circle i {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n\r\n.bottom-action-bar {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: 10px 0;\r\n  border-top: 1px solid #e0e0e0;\r\n  background-color: #f8f8f8;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.action-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  color: #007aff;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n}\r\n\r\n.action-item i {\r\n  font-size: 24px;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.bottom-sheet-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  z-index: 99;\r\n}\r\n\r\n.bottom-sheet {\r\n  position: fixed;\r\n  bottom: -100%;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: #f0f0f0;\r\n  border-top-left-radius: 16px;\r\n  border-top-right-radius: 16px;\r\n  z-index: 100;\r\n  transition: bottom 0.3s ease-in-out;\r\n  padding: 16px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.bottom-sheet.visible {\r\n  bottom: 0;\r\n}\r\n\r\n.bottom-sheet-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.bottom-sheet-title {\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #888;\r\n    margin: 0 0 10px 0;\r\n}\r\n\r\n.bottom-sheet-options {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0 0 10px 0;\r\n  background-color: #fff;\r\n  border-radius: 12px;\r\n}\r\n\r\n.bottom-sheet-options li {\r\n  padding: 14px;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  color: #007aff;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.bottom-sheet-options li:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.cancel-button {\r\n  padding: 14px;\r\n  background-color: #fff;\r\n  border: none;\r\n  border-radius: 12px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #007aff;\r\n  cursor: pointer;\r\n}\r\n</style>","import { render } from \"./PhotoSelectionMode.vue?vue&type=template&id=3640240a&scoped=true\"\nimport script from \"./PhotoSelectionMode.vue?vue&type=script&lang=js\"\nexport * from \"./PhotoSelectionMode.vue?vue&type=script&lang=js\"\n\nimport \"./PhotoSelectionMode.vue?vue&type=style&index=0&id=3640240a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3640240a\"]])\n\nexport default __exports__","// navStackAndLongTap.js\r\n\t\t\t/* eslint-disable */\r\n\t\t\texport function navigateTo(router,pageUrl) {\r\n\t\t\t\trouter.push(pageUrl);\r\n\t\t\t  }\r\n\t\t\t\r\n\t\t\texport function goBack(router) {\r\n\t\t\t    router.go(-1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\texport function longTapNavigateTo(selector, targetPage, threshold = 500) {\r\n\t\t\t  let touchStartTime = 0;\r\n\t\t\t\r\n\t\t\t  const element = document.querySelector(selector);\r\n\t\t\t  if (!element) return;\r\n\t\t\t\r\n\t\t\t  element.addEventListener(\"touchstart\", (e) => {\r\n\t\t\t    touchStartTime = Date.now();\r\n\t\t\t    e.preventDefault(); // prevent default link behavior\r\n\t\t\t  }, { passive: false });\r\n\t\t\t\r\n\t\t\t  element.addEventListener(\"touchend\", () => {\r\n\t\t\t    const duration = Date.now() - touchStartTime;\r\n\t\t\t    if (duration >= threshold) {\r\n\t\t\t      console.log(\"Long tap detected!\");\r\n\t\t\t      navigateTo(targetPage);\r\n\t\t\t    }\r\n\t\t\t  });\r\n\t\t\t\r\n\t\t\t  // Optional: support long mouse press\r\n\t\t\t  element.addEventListener(\"mousedown\", (e) => {\r\n\t\t\t    touchStartTime = Date.now();\r\n\t\t\t    e.preventDefault();\r\n\t\t\t  });\r\n\t\t\t  element.addEventListener(\"mouseup\", () => {\r\n\t\t\t    const duration = Date.now() - touchStartTime;\r\n\t\t\t    if (duration >= threshold) {\r\n\t\t\t        navigateTo(targetPage);\r\n\t\t\t    }\r\n\t\t\t  });\r\n\t\t\t\r\n\t\t\t}","export const AppData = {\r\n    // =========================================================================\r\n    // SECTION 1: DATA SCHEMAS AND DEFAULT VALUES\r\n    // =========================================================================\r\n\r\n    /**\r\n     * @typedef {Object} Photo\r\n     * @property {number} id - Unique identifier for the photo.\r\n     * @property {string} src - Path to the image file.\r\n     * @property {string} date - The date the photo was taken (YYYY-MM-DD).\r\n     * @property {'portrait' | 'landscape'} orientation - The orientation of the photo.\r\n     * @property {string} description - A brief description of the photo content.\r\n     */\r\n\r\n    /**\r\n     * @typedef {Object} Album\r\n     * @property {number} id - Unique identifier for the album.\r\n     * @property {string} name - The name of the album.\r\n     * @property {number[]} photoIds - An array of photo IDs belonging to this album.\r\n     */\r\n\r\n    // =========================================================================\r\n    // SECTION 2: MOCK DATA\r\n    // =========================================================================\r\n\r\n    /**\r\n     * A collection of all photos available in the app.\r\n     * @type {Photo[]}\r\n     */\r\n    photosData: [\r\n        // Photos for July 4, 2023 (Target for the task)\r\n        { id: 1, src: 'images/july4_portrait_1.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Person holding a sparkler at night.' },\r\n        { id: 2, src: 'images/july4_landscape_1.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Fireworks over a lake.' },\r\n        { id: 3, src: 'images/july4_portrait_2.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Family barbecue in the backyard.' },\r\n        { id: 4, src: 'images/july4_portrait_3.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Child waving an American flag.' },\r\n        { id: 5, src: 'images/july4_landscape_2.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Parade on a sunny street.' },\r\n        \r\n        // Other photos to make the library look populated\r\n        { id: 6, src: 'images/beach_day_1.jpg', date: '2023-08-15', orientation: 'landscape', description: 'Sunset over the ocean.' },\r\n        { id: 7, src: 'images/city_trip_1.jpg', date: '2023-06-10', orientation: 'portrait', description: 'Skyscraper from a low angle.' },\r\n        { id: 8, src: 'images/hiking_1.jpg', date: '2023-09-02', orientation: 'landscape', description: 'Mountain range view from a trail.' },\r\n        { id: 9, src: 'images/birthday_1.jpg', date: '2023-05-20', orientation: 'portrait', description: 'Blowing out candles on a cake.' },\r\n        { id: 10, src: 'images/winter_1.jpg', date: '2023-01-12', orientation: 'landscape', description: 'Snow-covered trees in a forest.' },\r\n        { id: 11, src: 'images/july4_misc_1.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Table with food for a 4th of July party.' },\r\n\r\n        // --- EXPANDED DATA START ---\r\n        // More photos for July 4, 2023 to provide more selection options\r\n        { id: 12, src: 'images/july4_portrait_4.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Friends watching fireworks from a balcony.' },\r\n        { id: 13, src: 'images/july4_landscape_3.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Wide shot of a patriotic parade float.' },\r\n        { id: 14, src: 'images/july4_portrait_5.jpg', date: '2023-07-04', orientation: 'portrait', description: 'Close-up of a decorated cupcake with a small flag.' },\r\n        { id: 15, src: 'images/july4_landscape_4.jpg', date: '2023-07-04', orientation: 'landscape', description: 'Community gathering in a park.' },\r\n\r\n        // More general photos for a diverse library\r\n        { id: 16, src: 'images/christmas_1.jpg', date: '2022-12-25', orientation: 'landscape', description: 'Family opening presents by a Christmas tree.' },\r\n        { id: 17, src: 'images/christmas_2.jpg', date: '2022-12-25', orientation: 'portrait', description: 'Child in a Santa hat smiling.' },\r\n        { id: 18, src: 'images/halloween_1.jpg', date: '2023-10-31', orientation: 'portrait', description: 'Jack-o-lantern glowing at night on a porch.' },\r\n        { id: 19, src: 'images/spring_1.jpg', date: '2023-03-15', orientation: 'landscape', description: 'Cherry blossoms in full bloom in a park.' },\r\n        { id: 20, src: 'images/city_trip_2.jpg', date: '2023-06-11', orientation: 'portrait', description: 'Tall modern building against a blue sky.' },\r\n        { id: 21, src: 'images/hiking_2.jpg', date: '2023-09-03', orientation: 'portrait', description: 'Hiker resting on a rock with a backpack.' },\r\n        { id: 22, src: 'images/winter_2.jpg', date: '2023-02-14', orientation: 'landscape', description: 'Snowy mountain peak at sunrise.' },\r\n        { id: 23, src: 'images/beach_day_2.jpg', date: '2023-08-16', orientation: 'portrait', description: 'Person building a sandcastle on the beach.' },\r\n        { id: 24, src: 'images/thanksgiving_1.jpg', date: '2023-11-23', orientation: 'landscape', description: 'Thanksgiving dinner table spread.' },\r\n        { id: 25, src: 'images/halloween_2.jpg', date: '2022-10-31', orientation: 'landscape', description: 'Group of friends in Halloween costumes.' },\r\n        { id: 26, src: 'images/birthday_2.jpg', date: '2023-05-21', orientation: 'landscape', description: 'Birthday party with balloons and streamers.' },\r\n        { id: 27, src: 'images/pet_1.jpg', date: '2023-04-05', orientation: 'portrait', description: 'Golden retriever puppy playing in the grass.' },\r\n        { id: 28, src: 'images/food_1.jpg', date: '2023-07-22', orientation: 'landscape', description: 'A colorful plate of gourmet food.' }\r\n        // --- EXPANDED DATA END ---\r\n    ],\r\n\r\n    /**\r\n     * Initial set of albums. This will be used to populate localStorage if it's empty.\r\n     * @type {Album[]}\r\n     */\r\n    initialAlbums: [\r\n        { id: 101, name: 'Summer Vacation', photoIds: [6, 8] },\r\n        { id: 102, name: 'Birthdays', photoIds: [9] },\r\n        // --- EXPANDED DATA START ---\r\n        { id: 103, name: 'Cityscapes', photoIds: [7, 20] },\r\n        { id: 104, name: 'Winter Wonderland', photoIds: [10, 22] },\r\n        { id: 105, name: 'Holidays 2022', photoIds: [16, 17, 25] },\r\n        { id: 106, name: 'Good Boy', photoIds: [27] }\r\n        // --- EXPANDED DATA END ---\r\n    ],\r\n\r\n    // =========================================================================\r\n    // SECTION 3: LOCALSTORAGE SCHEMA\r\n    // =========================================================================\r\n\r\n    /**\r\n     * Standardized keys for all localStorage operations to prevent typos and ensure consistency.\r\n     */\r\n    localStorageKeys: {\r\n        SEARCH_QUERY: 'photos_app_search_query',\r\n        SELECTED_PHOTO_IDS: 'photos_app_selected_photo_ids',\r\n        ALBUMS: 'photos_app_albums',\r\n        NEW_ALBUM_NAME: 'photos_app_new_album_name',\r\n    },\r\n\r\n    // =========================================================================\r\n    // SECTION 4: LOCALSTORAGE DATA FORMAT STANDARDS\r\n    // =========================================================================\r\n    /*\r\n     * All data stored in localStorage is JSON stringified to maintain data types.\r\n     *\r\n     * - SEARCH_QUERY (`photos_app_search_query`):\r\n     *   - Type: String\r\n     *   - Example: \"July 4, 2023\"\r\n     *\r\n     * - SELECTED_PHOTO_IDS (`photos_app_selected_photo_ids`):\r\n     *   - Type: JSON Stringified Array of Numbers\r\n     *   - Example: \"[1, 3, 4]\"\r\n     *\r\n     * - ALBUMS (`photos_app_albums`):\r\n     *   - Type: JSON Stringified Array of Album Objects\r\n     *   - Example: \"[{\\\"id\\\":101,\\\"name\\\":\\\"Summer Vacation\\\",\\\"photoIds\\\":[6,8]}]\"\r\n     *\r\n     * - NEW_ALBUM_NAME (`photos_app_new_album_name`):\r\n     *   - Type: String\r\n     *   - Example: \"July 4th Vlog Footage\"\r\n     */\r\n\r\n    // =========================================================================\r\n    // SECTION 5: CORE UTILITIES (Validation, Error Handling, LocalStorage)\r\n    // =========================================================================\r\n\r\n    /**\r\n     * Safely sets an item in localStorage by stringifying it.\r\n     * @param {string} key - The key to set.\r\n     * @param {any} value - The value to store.\r\n     */\r\n    _safeSetLocalStorage: function(key, value) {\r\n        try {\r\n            localStorage.setItem(key, JSON.stringify(value));\r\n        } catch (error) {\r\n            console.error(`Error setting localStorage key \"${key}\":`, error);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Safely gets and parses an item from localStorage.\r\n     * @param {string} key - The key to retrieve.\r\n     * @param {any} defaultValue - The value to return if the key doesn't exist or parsing fails.\r\n     * @returns {any} The parsed value or the default value.\r\n     */\r\n    _safeGetLocalStorage: function(key, defaultValue) {\r\n        try {\r\n            const item = localStorage.getItem(key);\r\n            if (item === null || item === undefined) {\r\n                return defaultValue;\r\n            }\r\n            return JSON.parse(item);\r\n        } catch (error) {\r\n            console.error(`Error getting localStorage key \"${key}\":`, error);\r\n            return defaultValue;\r\n        }\r\n    },\r\n\r\n    // =========================================================================\r\n    // SECTION 6: DATA MANAGEMENT METHODS\r\n    // =========================================================================\r\n\r\n    // --- Album Management ---\r\n\r\n    /**\r\n     * Initializes the albums in localStorage if they don't exist.\r\n     * Should be called when the app starts.\r\n     */\r\n    initAlbums: function() {\r\n        const existingAlbums = AppData._safeGetLocalStorage(AppData.localStorageKeys.ALBUMS, null);\r\n        if (existingAlbums === null) {\r\n            AppData._safeSetLocalStorage(AppData.localStorageKeys.ALBUMS, AppData.initialAlbums);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Retrieves all albums from localStorage.\r\n     * @returns {Album[]} An array of album objects.\r\n     */\r\n    getAlbums: function() {\r\n        return AppData._safeGetLocalStorage(AppData.localStorageKeys.ALBUMS, []);\r\n    },\r\n\r\n    /**\r\n     * Creates a new album and saves it to localStorage.\r\n     * @param {string} albumName - The name for the new album.\r\n     * @param {number[]} photoIds - An array of photo IDs to include in the album.\r\n     */\r\n    addAlbum: function(albumName, photoIds) {\r\n        const albums = AppData.getAlbums();\r\n        const newAlbumId = albums.length > 0 ? Math.max(...albums.map(a => a.id)) + 1 : 101;\r\n        const newAlbum = {\r\n            id: newAlbumId,\r\n            name: albumName,\r\n            photoIds: photoIds,\r\n        };\r\n        albums.push(newAlbum);\r\n        AppData._safeSetLocalStorage(AppData.localStorageKeys.ALBUMS, albums);\r\n    },\r\n\r\n    // --- Photo Management ---\r\n\r\n    /**\r\n     * Returns the complete list of all photos.\r\n     * @returns {Photo[]}\r\n     */\r\n    getAllPhotos: function() {\r\n        return AppData.photosData;\r\n    },\r\n\r\n    /**\r\n     * Finds a single photo by its ID.\r\n     * @param {number} id - The ID of the photo to find.\r\n     * @returns {Photo | undefined} The photo object or undefined if not found.\r\n     */\r\n    getPhotoById: function(id) {\r\n        return AppData.photosData.find(photo => photo.id === id);\r\n    },\r\n\r\n    /**\r\n     * Retrieves an array of photo objects based on an array of IDs.\r\n     * @param {number[]} ids - An array of photo IDs.\r\n     * @returns {Photo[]} An array of matching photo objects.\r\n     */\r\n    getPhotosByIds: function(ids) {\r\n        if (!Array.isArray(ids)) return [];\r\n        return AppData.photosData.filter(photo => ids.includes(photo.id));\r\n    },\r\n\r\n    // --- Filter/Search Management ---\r\n\r\n    /**\r\n     * Applies a filter by saving the search query to localStorage.\r\n     * This exactly matches the script input: `search_bar.input(\"July 4, 2023\")`\r\n     * @param {string} query - The search query to apply.\r\n     */\r\n    applyFilters: function(query) {\r\n        AppData._safeSetLocalStorage(AppData.localStorageKeys.SEARCH_QUERY, query);\r\n    },\r\n\r\n    /**\r\n     * Retrieves the currently applied search query from localStorage.\r\n     * @returns {string} The current search query.\r\n     */\r\n    getAppliedFilters: function() {\r\n        return AppData._safeGetLocalStorage(AppData.localStorageKeys.SEARCH_QUERY, '');\r\n    },\r\n\r\n    /**\r\n     * Clears the currently applied search query from localStorage.\r\n     */\r\n    clearFilters: function() {\r\n        localStorage.removeItem(AppData.localStorageKeys.SEARCH_QUERY);\r\n    },\r\n\r\n    /**\r\n     * Filters a list of photos based on a search query.\r\n     * This function is designed to specifically handle the query from the script.\r\n     * @param {Photo[]} photos - The array of photos to filter.\r\n     * @param {string} query - The search query string.\r\n     * @returns {Photo[]} A new array of photos that match the query.\r\n     */\r\n    filterPhotos: function(photos, query) {\r\n        if (!query || typeof query !== 'string') {\r\n            return [];\r\n        }\r\n        const normalizedQuery = query.trim().toLowerCase();\r\n        \r\n        // This logic specifically handles the query required by the task script.\r\n        if (normalizedQuery === 'july 4, 2023') {\r\n            const targetDate = '2023-07-04';\r\n            return photos.filter(photo => photo.date === targetDate);\r\n        }\r\n\r\n        // Add more generic search logic here if needed for other tasks.\r\n        // For example, searching by description:\r\n        // return photos.filter(photo => photo.description.toLowerCase().includes(normalizedQuery));\r\n\r\n        return []; // Return empty array if no matching rule is found.\r\n    },\r\n};"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","cancelSelection","_hoisted_3","_toDisplayString","selectedCountText","disabled","selectedCount","showAddToAlbumDialog","_hoisted_4","_hoisted_5","_hoisted_6","$data","searchQuery","_hoisted_7","_Fragment","_renderList","filteredPhotos","photo","key","id","$event","toggleSelection","src","alt","description","isSelected","_hoisted_10","_hoisted_11","_hoisted_12","isAddToAlbumDialogVisible","hideAddToAlbumDialog","_normalizeClass","_hoisted_13","_hoisted_14","createNewAlbum","_createVNode","_component_modal","ref","name","data","allPhotos","selectedPhotoIds","computed","this","AppData","filterPhotos","length","methods","loadData","getAppliedFilters","getAllPhotos","localStorage","removeItem","localStorageKeys","SELECTED_PHOTO_IDS","photoId","index","indexOf","splice","push","includes","goBack","$router","setItem","JSON","stringify","e","console","error","navigateTo","mounted","__exports__","render","router","pageUrl","go","photosData","date","orientation","initialAlbums","photoIds","SEARCH_QUERY","ALBUMS","NEW_ALBUM_NAME","_safeSetLocalStorage","value","_safeGetLocalStorage","defaultValue","item","getItem","undefined","parse","initAlbums","existingAlbums","getAlbums","addAlbum","albumName","albums","newAlbumId","Math","max","map","a","newAlbum","getPhotoById","find","getPhotosByIds","ids","Array","isArray","filter","applyFilters","query","clearFilters","photos","normalizedQuery","trim","toLowerCase","targetDate"],"sourceRoot":""}